<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados de Búsqueda</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
  <h1>Resultados para: <span id="query-text"></span></h1>
</header>
<main id="results-container">
  <p>Cargando resultados...</p>
</main>

    <main id="results-container">
        <!-- Los resultados se generarán aquí -->
    </main>

    <script src="api.js"></script>
<script>
    const urlParams = new URLSearchParams(window.location.search);
    const query = urlParams.get('q');

    document.getElementById("query-text").textContent = query;
    const resultsContainer = document.getElementById("results-container");

    buscarMusica(query)
        .then(results => {
            resultsContainer.innerHTML = "";

            if (results.length === 0) {
                resultsContainer.innerHTML = "<p>No se encontraron resultados.</p>";
                return;
            }

            results.forEach(item => {
                const div = document.createElement("div");
                div.classList.add("result-item");
                div.innerHTML = `
                    <img src="${item.thumbnail}" alt="${item.title}">
                    <p>${item.title}</p>
                    <a href="reproduc.html?video_id=${item.id}">Reproducir</a>
                `;
                resultsContainer.appendChild(div);
            });
        })
        .catch(error => {
            resultsContainer.innerHTML = "<p>Error al buscar.</p>";
            console.error(error);
        });
</script>
</body>
</html>